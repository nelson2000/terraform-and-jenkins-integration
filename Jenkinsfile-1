pipeline{
    agent any

    stages{
        stage("terraform init"){
            steps{
                echo "Initializing terraform"
                sh "terraform init"
            }
           
        }

        stage("terraform action"){
            steps{
                echo "terraform carry out action ---> ${action}"
                sh "terraform ${action} --auto-approve"
            }
           
        }

    }
   
}